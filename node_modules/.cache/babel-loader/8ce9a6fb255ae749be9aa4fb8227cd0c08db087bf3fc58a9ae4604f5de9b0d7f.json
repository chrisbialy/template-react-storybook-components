{"ast":null,"code":"var _jsxFileName = \"C:\\\\repos\\\\template-react-storybook-components2\\\\src\\\\components\\\\Search.tsx\",\n  _s = $RefreshSig$();\n/** @jsxImportSource @emotion/react */\nimport { css } from '@emotion/react';\nimport { Button } from './Button';\nimport React from 'react';\nimport { palette } from './palette';\nimport { debounce } from 'lodash';\nimport { useClickAway } from './useClickAway';\nimport { jsxDEV as _jsxDEV } from \"@emotion/react/jsx-dev-runtime\";\nexport function Search({\n  onSearch,\n  getHints,\n  buttonVariant,\n  buttonFill,\n  debounceTimeMs\n}) {\n  _s();\n  const [query, setQuery] = React.useState('');\n  const [hints, setHints] = React.useState([]);\n  const [showHints, setShowHints] = React.useState(false);\n  const handleSearch = event => {\n    event.preventDefault();\n    onSearch(query);\n  };\n  const handleHintClick = hint => {\n    setQuery(hint);\n    setShowHints(false);\n  };\n  const processHints = React.useMemo(() => {\n    const func = async newQuery => {\n      const newHints = await getHints(newQuery);\n      setHints(newHints);\n    };\n    return debounce(func, debounceTimeMs);\n  }, [debounceTimeMs, getHints]);\n  const handleQueryChange = async event => {\n    const newQuery = event.target.value;\n    setQuery(newQuery);\n    processHints(newQuery);\n  };\n  const ref = React.useRef(null);\n  useClickAway(ref, () => {\n    setShowHints(false);\n  });\n  return _jsxDEV(\"form\", {\n    ref: ref,\n    css: styles.form,\n    onSubmit: handleSearch,\n    children: [_jsxDEV(\"input\", {\n      css: styles.input,\n      value: query,\n      onChange: handleQueryChange,\n      onFocus: () => setShowHints(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), showHints && hints.length > 0 && _jsxDEV(\"ul\", {\n      css: styles.hintsContainer,\n      children: hints.map((hint, index) => _jsxDEV(\"li\", {\n        onClick: () => handleHintClick(hint),\n        children: hint\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this), _jsxDEV(Button, {\n      css: styles.button,\n      type: \"submit\",\n      variant: buttonVariant,\n      fill: buttonFill,\n      children: \"Search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n_s(Search, \"n8sPNl/4WHtNqY9hfVearv5b3g8=\", false, function () {\n  return [useClickAway];\n});\n_c = Search;\nconst styles = {\n  form: css`\n    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);\n    display: flex;\n    align-items: center;\n    width: 100%;\n    max-width: 400px;\n    margin: 0 auto;\n    position: relative;\n  `,\n  input: css`\n    padding: 8px;\n    border: none;\n    font-size: 16px;\n    border-radius: 4px 0 0 4px;\n    width: 100%;\n    &:focus {\n      outline: none;\n      box-shadow: inset 0 0 2px 2px ${palette.primary};\n    }\n  `,\n  button: css`\n    padding: 8px 16px;\n    border-radius: 0 4px 4px 0;\n    font-size: 16px;\n  `,\n  hintsContainer: css`\n    position: absolute;\n    left: 0;\n    right: 0;\n    list-style: none;\n    background-color: #fff;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n    margin: 0;\n    padding: 0;\n    top: 100%;\n\n    li {\n      padding: 8px;\n      cursor: pointer;\n      &:hover {\n        background-color: #ddd;\n      }\n    }\n  `\n};\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["css","Button","React","palette","debounce","useClickAway","jsxDEV","_jsxDEV","Search","onSearch","getHints","buttonVariant","buttonFill","debounceTimeMs","_s","query","setQuery","useState","hints","setHints","showHints","setShowHints","handleSearch","event","preventDefault","handleHintClick","hint","processHints","useMemo","func","newQuery","newHints","handleQueryChange","target","value","ref","useRef","styles","form","onSubmit","children","input","onChange","onFocus","fileName","_jsxFileName","lineNumber","columnNumber","length","hintsContainer","map","index","onClick","button","type","variant","fill","_c","primary","$RefreshReg$"],"sources":["C:/repos/template-react-storybook-components2/src/components/Search.tsx"],"sourcesContent":["/** @jsxImportSource @emotion/react */\r\nimport { css } from '@emotion/react';\r\nimport { Button } from './Button';\r\nimport { FillOptions, Variants } from './types';\r\nimport React from 'react';\r\nimport { palette } from './palette';\r\nimport { debounce } from 'lodash';\r\nimport { useClickAway } from './useClickAway';\r\n\r\nexport type SearchProps = {\r\n  onSearch: (query: string) => void;\r\n  getHints: (query: string) => Promise<string[]>;\r\n  buttonVariant?: Variants;\r\n  buttonFill?: FillOptions;\r\n  debounceTimeMs?: number;\r\n};\r\n\r\nexport function Search({ onSearch, getHints, buttonVariant, buttonFill, debounceTimeMs }: SearchProps) {\r\n  const [query, setQuery] = React.useState('');\r\n  const [hints, setHints] = React.useState<string[]>([]);\r\n  const [showHints, setShowHints] = React.useState(false);\r\n\r\n  const handleSearch = (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    onSearch(query);\r\n  };\r\n\r\n  const handleHintClick = (hint: string) => {\r\n    setQuery(hint);\r\n    setShowHints(false);\r\n  };\r\n\r\n  const processHints = React.useMemo(() => {\r\n    const func = async (newQuery: string) => {\r\n      const newHints = await getHints(newQuery);\r\n      setHints(newHints);\r\n    };\r\n    return debounce(func, debounceTimeMs);\r\n  }, [debounceTimeMs, getHints]);\r\n\r\n  const handleQueryChange = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const newQuery = event.target.value;\r\n    setQuery(newQuery);\r\n\r\n    processHints(newQuery);\r\n  };\r\n\r\n  const ref = React.useRef<HTMLFormElement | null>(null);\r\n  useClickAway(ref, () => {\r\n    setShowHints(false);\r\n  });\r\n\r\n  return (\r\n    <form ref={ref} css={styles.form} onSubmit={handleSearch}>\r\n      <input css={styles.input} value={query} onChange={handleQueryChange} onFocus={() => setShowHints(true)} />\r\n      {showHints && hints.length > 0 && (\r\n        <ul css={styles.hintsContainer}>\r\n          {hints.map((hint, index) => (\r\n            <li key={index} onClick={() => handleHintClick(hint)}>\r\n              {hint}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n      <Button css={styles.button} type=\"submit\" variant={buttonVariant} fill={buttonFill}>\r\n        Search\r\n      </Button>\r\n    </form>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  form: css`\r\n    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);\r\n    display: flex;\r\n    align-items: center;\r\n    width: 100%;\r\n    max-width: 400px;\r\n    margin: 0 auto;\r\n    position: relative;\r\n  `,\r\n  input: css`\r\n    padding: 8px;\r\n    border: none;\r\n    font-size: 16px;\r\n    border-radius: 4px 0 0 4px;\r\n    width: 100%;\r\n    &:focus {\r\n      outline: none;\r\n      box-shadow: inset 0 0 2px 2px ${palette.primary};\r\n    }\r\n  `,\r\n  button: css`\r\n    padding: 8px 16px;\r\n    border-radius: 0 4px 4px 0;\r\n    font-size: 16px;\r\n  `,\r\n  hintsContainer: css`\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    list-style: none;\r\n    background-color: #fff;\r\n    border: 1px solid #ddd;\r\n    border-radius: 4px;\r\n    margin: 0;\r\n    padding: 0;\r\n    top: 100%;\r\n\r\n    li {\r\n      padding: 8px;\r\n      cursor: pointer;\r\n      &:hover {\r\n        background-color: #ddd;\r\n      }\r\n    }\r\n  `,\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}